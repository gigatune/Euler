<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>

<body>

<div id='primePool'></div>
<div id='counting'></div>
<div id='aaa'></div>


<script>

var target = 600851475143;
//var target = 13195;

// 最大が sqrt(target) になる
var searchMax = Math.floor( Math.sqrt( target ) );

// 全部素数として配列を初期化
var isPrime = new Array();
for( var i = 1 ; i < searchMax ; i++ ){
    isPrime[i] = true;
}
isPrime[1] = false;

// エラトステネスのふるいで、素数でなかったらisPrime[num]の値をfalseにする
for( var i = 1 ; i <= searchMax ; i++ ){
    if( isPrime[i] == true ){  // 素数だったら倍数をふるい落とす
	var searchKey = i;
	while( searchKey < searchMax ){
	    searchKey = searchKey + i;
	    isPrime[searchKey] = false;
	}
    }
}

// 素因数かどうかの判定
var primeFactors = new Array();
for( var i = 1 ; i <= searchMax ; i++ ){
    if( ( target % i ) == 0 ){  // 因数だったら
	if( isPrime[i] == true  ){  // 因数が素数だったら
	    primeFactors.push( i );
	}
    }
}

// 素因数の最大値を表示
alert( Math.max.apply(null, primeFactors ) );

</script>
</body>
</html>
